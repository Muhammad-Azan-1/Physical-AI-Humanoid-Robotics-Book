"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[1636],{2707:(e,i,n)=>{n.d(i,{A:()=>S});var t=n(6540),a=n(4164),s=n(9872),o=n(4319),r=n(6347),l=n(4280),c=n(3024),d=n(8417),u=n(4031);function h(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:i}=e;return!!i&&"object"==typeof i&&"value"in i}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:i,children:n}=e;return(0,t.useMemo)(()=>{const e=i??function(e){return h(e).map(({props:{value:e,label:i,attributes:n,default:t}})=>({value:e,label:i,attributes:n,default:t}))}(n);return function(e){const i=(0,d.XI)(e,(e,i)=>e.value===i.value);if(i.length>0)throw new Error(`Docusaurus error: Duplicate values "${i.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[i,n])}function g({value:e,tabValues:i}){return i.some(i=>i.value===e)}function b({queryString:e=!1,groupId:i}){const n=(0,r.W6)(),a=function({queryString:e=!1,groupId:i}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:e,groupId:i});return[(0,c.aZ)(a),(0,t.useCallback)(e=>{if(!a)return;const i=new URLSearchParams(n.location.search);i.set(a,e),n.replace({...n.location,search:i.toString()})},[a,n])]}function p(e){const{defaultValue:i,queryString:n=!1,groupId:a}=e,s=m(e),[o,r]=(0,t.useState)(()=>function({defaultValue:e,tabValues:i}){if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!g({value:e,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${i.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=i.find(e=>e.default)??i[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:i,tabValues:s})),[c,d]=b({queryString:n,groupId:a}),[h,p]=function({groupId:e}){const i=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,a]=(0,u.Dv)(i);return[n,(0,t.useCallback)(e=>{i&&a.set(e)},[i,a])]}({groupId:a}),f=(()=>{const e=c??h;return g({value:e,tabValues:s})?e:null})();(0,l.A)(()=>{f&&r(f)},[f]);return{selectedValue:o,selectValue:(0,t.useCallback)(e=>{if(!g({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);r(e),d(e),p(e)},[d,p,s]),tabValues:s}}var f=n(6916);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(4848);function y({className:e,block:i,selectedValue:n,selectValue:t,tabValues:s}){const r=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),c=e=>{const i=e.currentTarget,a=r.indexOf(i),o=s[a].value;o!==n&&(l(i),t(o))},d=e=>{let i=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=r.indexOf(e.currentTarget)+1;i=r[n]??r[0];break}case"ArrowLeft":{const n=r.indexOf(e.currentTarget)-1;i=r[n]??r[r.length-1];break}}i?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":i},e),children:s.map(({value:e,label:i,attributes:t})=>(0,v.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{r.push(e)},onKeyDown:d,onClick:c,...t,className:(0,a.A)("tabs__item",x.tabItem,t?.className,{"tabs__item--active":n===e}),children:i??e},e))})}function j({lazy:e,children:i,selectedValue:n}){const s=(Array.isArray(i)?i:[i]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===n);return e?(0,t.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:s.map((e,i)=>(0,t.cloneElement)(e,{key:i,hidden:e.props.value!==n}))})}function w(e){const i=p(e);return(0,v.jsxs)("div",{className:(0,a.A)(s.G.tabs.container,"tabs-container",x.tabList),children:[(0,v.jsx)(y,{...i,...e}),(0,v.jsx)(j,{...i,...e})]})}function S(e){const i=(0,f.A)();return(0,v.jsx)(w,{...e,children:h(e.children)},String(i))}},3632:(e,i,n)=>{n.d(i,{A:()=>o});n(6540);var t=n(4164);const a={tabItem:"tabItem_Ymn6"};var s=n(4848);function o({children:e,hidden:i,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(a.tabItem,n),hidden:i,children:e})}},8453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>r});var t=n(6540);const a={},s=t.createContext(a);function o(e){const i=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(s.Provider,{value:i},e.children)}},8635:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"module2/week6-7","title":"Weeks 6-7: Robot Simulation with Gazebo","description":"The Digital Twin Paradigm","source":"@site/docs/module2/week6-7.md","sourceDirName":"module2","slug":"/module2/week6-7","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module2/week6-7","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"week6-7","title":"Weeks 6-7: Robot Simulation with Gazebo","sidebar_label":"Weeks 6-7: Robot Simulation"},"sidebar":"mainSidebar","previous":{"title":"Overview","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/module2"},"next":{"title":"Module 3: The AI-Robot Brain","permalink":"/Physical-AI-Humanoid-Robotics-Book/docs/modules/isaac"}}');var a=n(4848),s=n(8453),o=n(2707),r=n(3632);const l={id:"week6-7",title:"Weeks 6-7: Robot Simulation with Gazebo",sidebar_label:"Weeks 6-7: Robot Simulation"},c="Weeks 6-7: Robot Simulation with Gazebo",d={},u=[{value:"The Digital Twin Paradigm",id:"the-digital-twin-paradigm",level:2},{value:"Why Simulation is Non-Negotiable for Humanoids",id:"why-simulation-is-non-negotiable-for-humanoids",level:3},{value:"Gazebo: The Standard Simulator",id:"gazebo-the-standard-simulator",level:2},{value:"Gazebo Classic vs. Gazebo Harmonic",id:"gazebo-classic-vs-gazebo-harmonic",level:3},{value:"Setting Up the Environment",id:"setting-up-the-environment",level:3},{value:"Basic Controls",id:"basic-controls",level:3},{value:"Robot Description: URDF vs. SDF",id:"robot-description-urdf-vs-sdf",level:2},{value:"URDF (Unified Robot Description Format)",id:"urdf-unified-robot-description-format",level:3},{value:"Example: A Humanoid Leg Link",id:"example-a-humanoid-leg-link",level:4},{value:"SDF (Simulation Description Format)",id:"sdf-simulation-description-format",level:3},{value:"Physics &amp; Sensors",id:"physics--sensors",level:2},{value:"Simulating Gravity &amp; Collisions",id:"simulating-gravity--collisions",level:3},{value:"Adding Sensors",id:"adding-sensors",level:3},{value:"LiDAR (Light Detection and Ranging)",id:"lidar-light-detection-and-ranging",level:4},{value:"Depth Camera (RGB-D)",id:"depth-camera-rgb-d",level:4},{value:"IMU (Inertial Measurement Unit)",id:"imu-inertial-measurement-unit",level:4},{value:"Introduction to Unity for Visualization",id:"introduction-to-unity-for-visualization",level:2},{value:"Unity Robotics Hub",id:"unity-robotics-hub",level:3},{value:"Summary: Simulation &amp; Digital Twins",id:"summary-simulation--digital-twins",level:2},{value:"Key Tools",id:"key-tools",level:3},{value:"Critical Components",id:"critical-components",level:3}];function h(e){const i={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.header,{children:(0,a.jsx)(i.h1,{id:"weeks-6-7-robot-simulation-with-gazebo",children:"Weeks 6-7: Robot Simulation with Gazebo"})}),"\n",(0,a.jsxs)(o.A,{children:[(0,a.jsxs)(r.A,{value:"full",label:"Full Content",default:!0,children:[(0,a.jsx)(i.h2,{id:"the-digital-twin-paradigm",children:"The Digital Twin Paradigm"}),(0,a.jsxs)(i.blockquote,{children:["\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.strong,{children:'"Simulation is not just about testing; it\'s about training the mind of the robot before it inhabits a body."'})}),"\n"]}),(0,a.jsxs)(i.p,{children:["In this module, we bridge the gap between code and reality. Before we deploy our ROS 2 nodes to a physical humanoid (which can cost anywhere from $15k to $100k+), we must validate our logic in a ",(0,a.jsx)(i.strong,{children:"Digital Twin"}),"\u2014a high-fidelity simulation that mimics the physical laws of the real world."]}),(0,a.jsx)(i.h3,{id:"why-simulation-is-non-negotiable-for-humanoids",children:"Why Simulation is Non-Negotiable for Humanoids"}),(0,a.jsxs)(i.ol,{children:["\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Safety & Cost:"})," A bipedal robot falling is a catastrophic event. It can break gears, shatter sensors, and injure bystanders. In simulation, a fall is just a reset button."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Scalability:"})," We can train thousands of robots in parallel in the cloud (e.g., using Isaac Gym) to accelerate reinforcement learning for walking gaits."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Ground Truth:"})," In simulation, we know the exact position of every joint and object, which helps in debugging perception algorithms before dealing with noisy real-world sensors."]}),"\n"]}),(0,a.jsx)(i.h2,{id:"gazebo-the-standard-simulator",children:"Gazebo: The Standard Simulator"}),(0,a.jsx)(i.p,{children:"Gazebo is the de facto standard simulator for ROS 2. It provides a physics engine (ODE, Bullet, Dart) to simulate gravity, inertia, friction, and collisions."}),(0,a.jsx)(i.h3,{id:"gazebo-classic-vs-gazebo-harmonic",children:"Gazebo Classic vs. Gazebo Harmonic"}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Gazebo Classic (formerly Gazebo 11):"})," The legacy monolithic simulator. EOL in 2025."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Gazebo Harmonic (formerly Ignition):"})," The new modular architecture. It separates physics, rendering, and sensors into distinct libraries. ",(0,a.jsx)(i.strong,{children:"We will use Harmonic"})," as it integrates natively with ROS 2 Jazzy/Humble."]}),"\n"]}),(0,a.jsx)(i.h3,{id:"setting-up-the-environment",children:"Setting Up the Environment"}),(0,a.jsx)(i.p,{children:"If you installed ROS 2 Desktop Full, Gazebo is already included. To verify your installation:"}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-bash",children:"# Launch Gazebo\nign gazebo\n"})}),(0,a.jsx)(i.h3,{id:"basic-controls",children:"Basic Controls"}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Left Click"}),": Select objects."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Right Click"}),": Move camera (pan/tilt)."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Scroll"}),": Zoom in/out."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Play/Pause"}),": Control the physics simulation time."]}),"\n"]}),(0,a.jsx)(i.h2,{id:"robot-description-urdf-vs-sdf",children:"Robot Description: URDF vs. SDF"}),(0,a.jsxs)(i.p,{children:["To simulate a robot, we must describe its physical properties: ",(0,a.jsx)(i.strong,{children:"Visuals"})," (what it looks like) and ",(0,a.jsx)(i.strong,{children:"Collisions"})," (physical boundaries)."]}),(0,a.jsx)(i.h3,{id:"urdf-unified-robot-description-format",children:"URDF (Unified Robot Description Format)"}),(0,a.jsx)(i.p,{children:"URDF is an XML format used by ROS to describe the kinematic tree of a robot (links and joints). For a humanoid, this tree is complex, branching from the pelvis to the legs, torso, arms, and head."}),(0,a.jsx)(i.h4,{id:"example-a-humanoid-leg-link",children:"Example: A Humanoid Leg Link"}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-xml",children:'<link name="right_thigh">\n  <visual>\n    <geometry>\n      <cylinder length="0.4" radius="0.05"/>\n    </geometry>\n    <material name="white"/>\n  </visual>\n  <collision>\n    <geometry>\n      <cylinder length="0.4" radius="0.05"/>\n    </geometry>\n  </collision>\n  <inertial>\n    <mass value="2.0"/>\n    <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.005"/>\n  </inertial>\n</link>\n'})}),(0,a.jsx)(i.h3,{id:"sdf-simulation-description-format",children:"SDF (Simulation Description Format)"}),(0,a.jsxs)(i.p,{children:["While URDF is for the robot ",(0,a.jsx)(i.em,{children:"structure"}),", SDF is for the ",(0,a.jsx)(i.em,{children:"world"})," and simulation environment (lighting, gravity, multiple robots). Gazebo uses SDF natively. ROS 2 often converts URDF to SDF at runtime."]}),(0,a.jsx)(i.h2,{id:"physics--sensors",children:"Physics & Sensors"}),(0,a.jsx)(i.p,{children:'A "Digital Twin" is useless without sensors. We need to simulate the data our AI agents will consume.'}),(0,a.jsx)(i.h3,{id:"simulating-gravity--collisions",children:"Simulating Gravity & Collisions"}),(0,a.jsx)(i.p,{children:"Gazebo handles rigid body dynamics. If you define a mass and inertia for your robot links, gravity will pull them down. If you don't define collision geometries, your robot will fall through the floor!"}),(0,a.jsx)(i.h3,{id:"adding-sensors",children:"Adding Sensors"}),(0,a.jsx)(i.p,{children:"We can attach virtual sensors to our URDF model. These publish data to ROS 2 topics just like real hardware."}),(0,a.jsx)(i.h4,{id:"lidar-light-detection-and-ranging",children:"LiDAR (Light Detection and Ranging)"}),(0,a.jsx)(i.p,{children:"Used for mapping and obstacle avoidance."}),(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-xml",children:'<gazebo reference="lidar_link">\n  <sensor name="lidar" type="gpu_lidar">\n    <update_rate>10</update_rate>\n    <ray>\n      <scan>\n        <horizontal>\n          <samples>360</samples>\n          <resolution>1</resolution>\n          <min_angle>-3.14</min_angle>\n          <max_angle>3.14</max_angle>\n        </horizontal>\n      </scan>\n    </ray>\n  </sensor>\n</gazebo>\n'})}),(0,a.jsx)(i.h4,{id:"depth-camera-rgb-d",children:"Depth Camera (RGB-D)"}),(0,a.jsx)(i.p,{children:"Simulates an Intel RealSense camera, providing color images and depth maps."}),(0,a.jsx)(i.h4,{id:"imu-inertial-measurement-unit",children:"IMU (Inertial Measurement Unit)"}),(0,a.jsx)(i.p,{children:"Provides acceleration and orientation data, essential for balancing a humanoid."}),(0,a.jsx)(i.h2,{id:"introduction-to-unity-for-visualization",children:"Introduction to Unity for Visualization"}),(0,a.jsxs)(i.p,{children:["While Gazebo is great for physics, ",(0,a.jsx)(i.strong,{children:"Unity"})," offers superior rendering and is often used for Human-Robot Interaction (HRI) scenarios."]}),(0,a.jsx)(i.h3,{id:"unity-robotics-hub",children:"Unity Robotics Hub"}),(0,a.jsxs)(i.p,{children:["Unity provides the ",(0,a.jsx)(i.strong,{children:"URDF Importer"}),", a tool that automatically converts your ROS URDF files into Unity GameObjects with ArticulationBodies (physics joints)."]}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Photorealism:"})," Better lighting and textures make it ideal for training computer vision models."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"VR/AR Integration:"})," You can control your digital twin using a VR headset."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"ROS-TCP-Connector:"})," Unity can communicate with ROS 2 nodes via TCP/IP."]}),"\n"]}),(0,a.jsx)(i.p,{children:"In the next weeks, we will build a complete simulation environment where our humanoid can walk and interact with objects."})]}),(0,a.jsxs)(r.A,{value:"summary",label:"Summary",children:[(0,a.jsx)(i.h2,{id:"summary-simulation--digital-twins",children:"Summary: Simulation & Digital Twins"}),(0,a.jsxs)(i.p,{children:[(0,a.jsx)(i.strong,{children:"Core Concept:"})," The Digital Twin allows us to validate AI logic safely before physical deployment."]}),(0,a.jsx)(i.h3,{id:"key-tools",children:"Key Tools"}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Gazebo Harmonic:"})," The modern physics engine for ROS 2."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"URDF:"})," The robot's body structure (XML)."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"SDF:"})," The world description."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Unity:"})," High-fidelity visualization for HRI."]}),"\n"]}),(0,a.jsx)(i.h3,{id:"critical-components",children:"Critical Components"}),(0,a.jsxs)(i.ul,{children:["\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Inertia Matrices:"})," Required for realistic physics."]}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Collision Geometry:"}),' Prevents "ghost" robots.']}),"\n",(0,a.jsxs)(i.li,{children:[(0,a.jsx)(i.strong,{children:"Virtual Sensors:"})," LiDAR, Cameras, and IMUs that mimic real hardware."]}),"\n"]})]})]})]})}function m(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}}}]);